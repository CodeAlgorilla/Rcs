###############################################################################
#
# CMakeLists file for the RcsCore library
#
###############################################################################
AUX_SOURCE_DIRECTORY (${CMAKE_CURRENT_SOURCE_DIR} RCS_CORE_SRCS)
LIST(APPEND RCS_CORE_SRCS 
  ${RCS_THIRDPARTY_DIR}/Rcs_thirdPartyMath.c
  ${RCS_THIRDPARTY_DIR}/EulerAngles.c)

ADD_LIBRARY(RcsCore ${LIBRARY_LINKING_TYPE} ${RCS_CORE_SRCS})

IF(WIN32)
  SET_SOURCE_FILES_PROPERTIES(${RCS_CORE_SRCS} PROPERTIES LANGUAGE CXX)
  TARGET_COMPILE_DEFINITIONS(RcsCore PRIVATE -DRCSCORE_EXPORTS)
ELSE()
  TARGET_COMPILE_DEFINITIONS(RcsCore PRIVATE -D_GNU_SOURCE)
ENDIF()

TARGET_INCLUDE_DIRECTORIES(RcsCore PUBLIC
    ${CMAKE_CURRENT_SOURCE_DIR}
    ${RCS_THIRDPARTY_DIR}
    ${LIBXML2_INCLUDE_DIR}
    ${PTHREAD_INCLUDE_DIR})

TARGET_LINK_LIBRARIES(RcsCore ${LIBXML2_LIBRARIES} ${PTHREAD_LIBRARIES})

IF(USE_WM5)
  TARGET_COMPILE_DEFINITIONS(RcsCore PRIVATE ${WM5_DEFINITIONS})
  TARGET_INCLUDE_DIRECTORIES(RcsCore SYSTEM PRIVATE ${WM5_INCLUDE_DIR})
  TARGET_LINK_LIBRARIES(RcsCore ${WM5_LIBRARIES})
ENDIF(USE_WM5)

IF(USE_OCTOMAP)
  TARGET_COMPILE_DEFINITIONS(RcsCore PRIVATE ${OCTOMAP_DEFINITIONS})
  TARGET_INCLUDE_DIRECTORIES(RcsCore SYSTEM PRIVATE ${OCTOMAP_INCLUDE_DIR})
  TARGET_LINK_LIBRARIES(RcsCore ${OCTOMAP_LIBRARIES})
ENDIF(USE_OCTOMAP)
